{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const refs = {\n  formEl: document.querySelector('.feedback-form'),\n};\n\nconst LOCAL_KEY = 'feedback-form-state';\n\nconst formData = JSON.parse(localStorage.getItem(LOCAL_KEY)) || {\n  email: '',\n  message: '',\n};\n\nrefs.formEl.addEventListener('input', e => {\n  formData[e.target.name] = e.target.value.trim();\n\n  saveToLs(LOCAL_KEY, formData);\n\n  function saveToLs(key, value) {\n    const json = JSON.stringify(value);\n    localStorage.setItem(key, json);\n    console.log(json);\n  }\n});\n\nformEl.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const email = formEl.elements.email.value.trim();\n  const message = formEl.elements.message.value.trim();\n\n  if (email === '' || message === '') {\n    return alert('Fill please all fields');\n  }\n\n  console.log(formData);\n  localStorage.removeItem(LOCAL_KEY);\n  formEl.reset();\n});\n\nfunction loadFromLs(key) {\n  const json = localStorage.getItem(key);\n  try {\n    const data = JSON.parse(json);\n    return data;\n  } catch {\n    return json;\n  }\n}\n\nfunction setDataToForm() {\n  const loadStorage = loadFromLs('feedback-form-state');\n  if (loadStorage === null) return;\n  const keys = Object.keys(formData);\n\n  keys.forEach(key => {\n    refs.formEl.elements[key].value = loadStorage[key];\n  });\n}\nsetDataToForm();\n"],"names":["refs","LOCAL_KEY","formData","saveToLs","key","value","json","event","email","message","loadFromLs","setDataToForm","loadStorage"],"mappings":"wFAAA,MAAMA,EAAO,CACX,OAAQ,SAAS,cAAc,gBAAgB,CACjD,EAEMC,EAAY,sBAEZC,EAAW,KAAK,MAAM,aAAa,QAAQD,CAAS,CAAC,GAAK,CAC9D,MAAO,GACP,QAAS,EACX,EAEAD,EAAK,OAAO,iBAAiB,QAAS,GAAK,CACzCE,EAAS,EAAE,OAAO,IAAI,EAAI,EAAE,OAAO,MAAM,OAEzCC,EAASF,EAAWC,CAAQ,EAE5B,SAASC,EAASC,EAAKC,EAAO,CAC5B,MAAMC,EAAO,KAAK,UAAUD,CAAK,EACjC,aAAa,QAAQD,EAAKE,CAAI,EAC9B,QAAQ,IAAIA,CAAI,CACjB,CACH,CAAC,EAED,OAAO,iBAAiB,SAAUC,GAAS,CACzCA,EAAM,eAAc,EAEpB,MAAMC,EAAQ,OAAO,SAAS,MAAM,MAAM,OACpCC,EAAU,OAAO,SAAS,QAAQ,MAAM,OAE9C,GAAID,IAAU,IAAMC,IAAY,GAC9B,OAAO,MAAM,wBAAwB,EAGvC,QAAQ,IAAIP,CAAQ,EACpB,aAAa,WAAWD,CAAS,EACjC,OAAO,MAAK,CACd,CAAC,EAED,SAASS,EAAWN,EAAK,CACvB,MAAME,EAAO,aAAa,QAAQF,CAAG,EACrC,GAAI,CAEF,OADa,KAAK,MAAME,CAAI,CAEhC,MAAU,CACN,OAAOA,CACR,CACH,CAEA,SAASK,GAAgB,CACvB,MAAMC,EAAcF,EAAW,qBAAqB,EACpD,GAAIE,IAAgB,KAAM,OACb,OAAO,KAAKV,CAAQ,EAE5B,QAAQE,GAAO,CAClBJ,EAAK,OAAO,SAASI,CAAG,EAAE,MAAQQ,EAAYR,CAAG,CACrD,CAAG,CACH,CACAO,EAAe"}